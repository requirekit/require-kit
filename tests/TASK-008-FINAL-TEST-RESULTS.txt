============================= test session starts ==============================
platform darwin -- Python 3.12.4, pytest-8.4.2, pluggy-1.6.0 -- /Users/richardwoollcott/Projects/appmilla_github/ai-engineer/.venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/richardwoollcott/Projects/appmilla_github/ai-engineer
configfile: pytest.ini
plugins: mock-3.15.1, cov-7.0.0
collecting ... collected 54 items

../../../../tests/test_task_008_comprehensive_fixed.py::TestNoBreakdownStrategy::test_no_breakdown_returns_empty_list PASSED [  1%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestNoBreakdownStrategy::test_no_breakdown_with_complex_task PASSED [  3%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestLogicalBreakdownStrategy::test_logical_breakdown_generates_subtasks PASSED [  5%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestLogicalBreakdownStrategy::test_logical_breakdown_identifies_components PASSED [  7%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestLogicalBreakdownStrategy::test_logical_breakdown_includes_tests PASSED [  9%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestLogicalBreakdownStrategy::test_logical_breakdown_empty_files_list PASSED [ 11%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestFileBasedBreakdownStrategy::test_file_based_breakdown_groups_files PASSED [ 12%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestFileBasedBreakdownStrategy::test_file_based_breakdown_maintains_module_grouping PASSED [ 14%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestFileBasedBreakdownStrategy::test_file_based_breakdown_assigns_ids PASSED [ 16%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestPhaseBasedBreakdownStrategy::test_phase_based_breakdown_creates_phases PASSED [ 18%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestPhaseBasedBreakdownStrategy::test_phase_based_breakdown_sequential_dependencies PASSED [ 20%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestPhaseBasedBreakdownStrategy::test_phase_based_breakdown_distributes_files PASSED [ 22%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestStrategySelection::test_get_strategy_low_complexity PASSED [ 24%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestStrategySelection::test_get_strategy_medium_complexity PASSED [ 25%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestStrategySelection::test_get_strategy_high_complexity PASSED [ 27%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestStrategySelection::test_get_strategy_critical_complexity PASSED [ 29%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_find_duplicates_no_matches PASSED [ 31%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_find_duplicates_exact_match PASSED [ 33%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_find_duplicates_fuzzy_match PASSED [ 35%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_calculate_similarity_exact PASSED [ 37%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_calculate_similarity_partial PASSED [ 38%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_calculate_similarity_no_match PASSED [ 40%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_check_exact_duplicate_exists PASSED [ 42%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_check_exact_duplicate_not_exists PASSED [ 44%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestDuplicateDetector::test_get_duplicate_summary_empty PASSED [ 46%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_formatter_initialization PASSED [ 48%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_format_complexity_score PASSED [ 50%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_format_complexity_score_no_color PASSED [ 51%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_format_complexity_score_no_emoji PASSED [ 53%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_get_complexity_visualization_low PASSED [ 55%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_get_complexity_visualization_medium PASSED [ 57%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_get_complexity_visualization_high PASSED [ 59%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTerminalFormatter::test_get_complexity_visualization_critical PASSED [ 61%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskFileGenerator::test_generate_filename PASSED [ 62%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskFileGenerator::test_generate_task_files_creates_files PASSED [ 64%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskFileGenerator::test_generate_task_files_content_format PASSED [ 66%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskFileGenerator::test_generate_next_task_id PASSED [ 68%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskFileGenerator::test_generate_summary_file PASSED [ 70%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_orchestrator_initialization PASSED [ 72%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_breakdown_task_simple PASSED [ 74%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_breakdown_task_medium PASSED [ 75%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_validate_task_data_valid PASSED [ 77%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_validate_task_data_missing_fields PASSED [ 79%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_create_evaluation_context PASSED [ 81%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_select_strategy_score_based PASSED [ 83%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestTaskBreakdownOrchestrator::test_calculate_statistics PASSED [ 85%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestIntegration::test_full_breakdown_workflow PASSED [ 87%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestIntegration::test_breakdown_feature_tasks_api PASSED [ 88%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestEdgeCases::test_empty_feature_no_tasks PASSED [ 90%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestEdgeCases::test_all_tasks_below_threshold PASSED [ 92%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestEdgeCases::test_duplicate_detection_100_percent_similarity PASSED [ 94%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestEdgeCases::test_invalid_task_data_handling PASSED [ 96%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestEdgeCases::test_task_file_generator_auto_id_generation PASSED [ 98%]
../../../../tests/test_task_008_comprehensive_fixed.py::TestPerformance::test_large_file_list_performance PASSED [100%]/Users/richardwoollcott/Projects/appmilla_github/ai-engineer/.venv/lib/python3.12/site-packages/coverage/inorout.py:521: CoverageWarning: Module installer/global/lib was never imported. (module-not-imported); see https://coverage.readthedocs.io/en/7.10.7/messages.html#warning-module-not-imported
  self.warn(f"Module {pkg} was never imported.", slug="module-not-imported")
/Users/richardwoollcott/Projects/appmilla_github/ai-engineer/.venv/lib/python3.12/site-packages/coverage/report_core.py:107: CoverageWarning: Couldn't parse Python file '/Users/richardwoollcott/Projects/appmilla_github/ai-engineer/installer/global/commands/lib/test_complexity_comprehensive.py' (couldnt-parse); see https://coverage.readthedocs.io/en/7.10.7/messages.html#warning-couldnt-parse
  coverage._warn(msg, slug="couldnt-parse")


================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.12.4-final-0 _______________

Name                            Stmts   Miss Branch BrPart  Cover   Missing
---------------------------------------------------------------------------
__init__.py                        16     16      0      0     0%   8-104
agent_utils.py                     96     96     22      0     0%   13-383
breakdown_strategies.py           116      2     44      2    98%   176, 426
change_tracker.py                 132    132     44      0     0%   20-442
complexity_calculator.py           90     64     20      0    24%   93-135, 149-165, 181-203, 221-248, 264-271, 294-310, 331-335
complexity_factors.py              96     68     26      0    23%   60-77, 110-135, 192-238, 256-257
complexity_models.py              106     21      6      0    76%   51-53, 83, 87-90, 134, 139, 144-149, 154-159, 184, 189, 212, 217, 223
duplicate_detector.py             115     17     32      7    82%   56, 111-112, 166, 184-185, 205, 247, 254, 296, 330-339
error_messages.py                  29     29      6      0     0%   8-186
feature_generator.py              139     20     40      9    83%   156-157, 233, 240, 285, 289, 351-357, 362->360, 364-369, 408->411, 429
flag_validator.py                  33     33     10      0     0%   8-202
modification_applier.py           115    115     62      0     0%   18-339
modification_persistence.py        77     77     10      0     0%   19-267
modification_session.py            99     99     12      0     0%   21-298
pager_display.py                  167    167     46      0     0%   22-511
phase_execution.py                105    105     16      0     0%   15-437
plan_persistence.py                40     40      6      0     0%   15-180
qa_manager.py                     286    286     80      0     0%   29-964
review_modes.py                   609    609    178      0     0%   27-1514
review_router.py                   69     69     16      0     0%   12-380
split_models.py                    40     40      6      0     0%   8-98
task_breakdown.py                 119      8     28      3    93%   35-44, 90, 321, 343, 347
task_split_advisor.py             111    111     46      0     0%   8-409
test_complexity.py                141    141      2      0     0%   14-320
test_full_review.py               418    418      8      0     0%   17-911
test_quick_review.py              302    302     14      0     0%   15-590
test_task_008_integration.py      155    155      6      0     0%   14-382
upfront_complexity_adapter.py     111    111     38      0     0%   15-349
upfront_complexity_cli.py         135    135     32      0     0%   13-356
user_interaction.py               105    105     22      0     0%   29-392
version_manager.py                106    106     20      0     0%   20-445
visualization.py                  183     82     50      2    52%   140, 154-213, 224-250, 298-299, 326-336, 385-396
---------------------------------------------------------------------------
TOTAL                            4461   3779    948     23    15%
Coverage JSON written to file ../../../../tests/TASK-008-coverage-final.json
============================== 54 passed in 0.65s ==============================
